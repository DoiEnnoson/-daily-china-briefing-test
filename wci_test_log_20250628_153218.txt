2025-06-28 13:32:18,969 - DEBUG - Starting main execution
2025-06-28 13:32:18,969 - DEBUG - Starting briefing generation
2025-06-28 13:32:18,969 - DEBUG - Loading WCI cache from /home/runner/work/-daily-china-briefing-test/-daily-china-briefing-test/freight_indicies/wci_cache.json
2025-06-28 13:32:18,969 - DEBUG - Successfully loaded WCI cache: {'19.06.2025': {'value': 3279.0}, '26.06.2025': {'value': 2983.0}}
2025-06-28 13:32:18,969 - DEBUG - Loading IACI cache from /home/runner/work/-daily-china-briefing-test/-daily-china-briefing-test/freight_indicies/iaci_cache.json
2025-06-28 13:32:18,969 - DEBUG - Successfully loaded IACI cache: {'30.05.2025': {'value': 655.0}, '16.06.2025': {'value': 707.0}}
2025-06-28 13:32:18,969 - DEBUG - Starting WCI email fetch
2025-06-28 13:32:18,969 - DEBUG - Gmail user: hadobrockmeyer@gmail.com, pass: ****************
2025-06-28 13:32:19,682 - ERROR - Failed to select [Gmail]/All Mail: SELECT command error: BAD [b'Could not parse command'], trying inbox
2025-06-28 13:32:19,850 - DEBUG - SELECT inbox result: OK, data: [b'7977']
2025-06-28 13:32:19,851 - DEBUG - Searching WCI emails with criteria: FROM noreply@drewry.co.uk "World Container Index" SINCE 21-Jun-2025
2025-06-28 13:32:19,975 - ERROR - Primary WCI search failed: SEARCH command error: BAD [b'Could not parse command'], trying fallback search
2025-06-28 13:32:19,975 - DEBUG - Fallback WCI search with criteria: FROM noreply@drewry.co.uk SINCE 21-Jun-2025
2025-06-28 13:32:20,202 - DEBUG - Fallback SEARCH result: OK, data: [b'7904']
2025-06-28 13:32:20,202 - DEBUG - Found WCI email IDs: [b'7904']
2025-06-28 13:32:20,202 - DEBUG - Fetching WCI email ID: b'7904'
2025-06-28 13:32:20,657 - DEBUG - WCI email subject: Drewry World Container Index: Thursday, 26 June 2025
2025-06-28 13:32:20,657 - DEBUG - Saving WCI HTML content to wci_email_7904.html
2025-06-28 13:32:20,658 - INFO - Successfully saved WCI email content to wci_email_7904.html
2025-06-28 13:32:20,788 - DEBUG - Attempting to read WCI HTML file: wci_email_7904.html
2025-06-28 13:32:20,794 - DEBUG - Extracted WCI text (first 500 chars): Drewry World Container Index - Weekly assessmentDear Hado26 June 2025World Container Index - 26 Jun26 Jun 2025: Drewryâ€™s World Container Index decreased 9% to $2,983 per 40ft container this week.Read moreContainer Freight Rate Insight - spot rates against 6,300 global lanesTrusted by many of the world's leading brands- Search rates across 6,300 global port pairs- All lanes updated monthly (top 1,900 lanes updated fortnightly)- Monthly Insight report, providing commentary and analysis of key mark
2025-06-28 13:32:20,808 - INFO - Extracted WCI: 2983.00, Date: 26.06.2025
2025-06-28 13:32:20,808 - DEBUG - WCI cache entry for 26.06.2025 already exists, skipping save
2025-06-28 13:32:20,808 - DEBUG - Starting IACI email fetch
2025-06-28 13:32:20,808 - DEBUG - Gmail user: hadobrockmeyer@gmail.com, pass: ****************
2025-06-28 13:32:21,922 - ERROR - Failed to select [Gmail]/All Mail: SELECT command error: BAD [b'Could not parse command'], trying inbox
2025-06-28 13:32:22,063 - DEBUG - SELECT inbox result: OK, data: [b'7977']
2025-06-28 13:32:22,063 - DEBUG - Searching IACI emails with criteria: FROM noreply@drewry.co.uk "Intra-Asia Container Index" SINCE 08-Jun-2025
2025-06-28 13:32:22,200 - ERROR - Primary IACI search failed: SEARCH command error: BAD [b'Could not parse command'], trying fallback search
2025-06-28 13:32:22,200 - DEBUG - Fallback IACI search with criteria: FROM noreply@drewry.co.uk SINCE 08-Jun-2025
2025-06-28 13:32:22,359 - DEBUG - Fallback SEARCH result: OK, data: [b'7650 7737 7784 7904']
2025-06-28 13:32:22,359 - DEBUG - Found IACI email IDs: [b'7650', b'7737', b'7784', b'7904']
2025-06-28 13:32:22,360 - DEBUG - Fetching IACI email ID: b'7904'
2025-06-28 13:32:22,560 - DEBUG - IACI email subject: Drewry World Container Index: Thursday, 26 June 2025
2025-06-28 13:32:22,560 - DEBUG - Saving IACI HTML content to iaci_email_7904.html
2025-06-28 13:32:22,560 - INFO - Successfully saved IACI email content to iaci_email_7904.html
2025-06-28 13:32:22,692 - DEBUG - Attempting to read IACI HTML file: iaci_email_7904.html
2025-06-28 13:32:22,699 - DEBUG - Extracted IACI text (first 500 chars): Drewry World Container Index - Weekly assessmentDear Hado26 June 2025World Container Index - 26 Jun26 Jun 2025: Drewryâ€™s World Container Index decreased 9% to $2,983 per 40ft container this week.Read moreContainer Freight Rate Insight - spot rates against 6,300 global lanesTrusted by many of the world's leading brands- Search rates across 6,300 global port pairs- All lanes updated monthly (top 1,900 lanes updated fortnightly)- Monthly Insight report, providing commentary and analysis of key mark
2025-06-28 13:32:22,699 - INFO - Extracted IACI: 2983.00, Date: 26.06.2025
2025-06-28 13:32:22,699 - DEBUG - Saving IACI cache to /home/runner/work/-daily-china-briefing-test/-daily-china-briefing-test/freight_indicies/iaci_cache.json: {'30.05.2025': {'value': 655.0}, '16.06.2025': {'value': 707.0}, '26.06.2025': {'value': 2983.0}}
2025-06-28 13:32:22,699 - INFO - Successfully wrote IACI cache to /home/runner/work/-daily-china-briefing-test/-daily-china-briefing-test/freight_indicies/iaci_cache.json
2025-06-28 13:32:22,700 - DEBUG - IACI cache file content after save: {
  "30.05.2025": {
    "value": 655.0
  },
  "16.06.2025": {
    "value": 707.0
  },
  "26.06.2025": {
    "value": 2983.0
  }
}
2025-06-28 13:32:22,700 - DEBUG - Report content:
Daily China Briefing - 28 Jun 2025
==================================================
## ðŸš¢ Frachtraten Indizies
â€¢ WCI: 2983.00 (â†“ -9.03%) (Stand 26.06.2025)
â€¢ IACI: 2983.00 (â†‘ 321.92%) (Stand 26.06.2025)

2025-06-28 13:32:22,700 - INFO - Saved briefing to daily_briefing.md
2025-06-28 13:32:22,700 - DEBUG - Starting email sending
2025-06-28 13:32:22,701 - DEBUG - Attaching file: wci_test_log_20250628_153218.txt
2025-06-28 13:32:22,702 - DEBUG - Attaching file: daily_briefing.md
2025-06-28 13:32:22,702 - DEBUG - Attaching file: freight_indicies/wci_cache.json
2025-06-28 13:32:22,702 - DEBUG - Attaching file: freight_indicies/iaci_cache.json
2025-06-28 13:32:22,702 - DEBUG - Attaching file: wci_email_7904.html
2025-06-28 13:32:22,702 - DEBUG - Attaching file: iaci_email_7904.html
2025-06-28 13:32:24,290 - INFO - Email sent successfully
2025-06-28 13:32:24,291 - DEBUG - Main execution completed
